<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>sync test</title>
</head>
<body>
    <button onclick="test()">confirm</button>

    <script>
        async function test(){
            let value = await confirm();

            console.log("result", value);
        }
        
        async function confirm(){
            create();
            
            let value = await (() => {
                return new Promise(resolve=>{
                   
                    document.getElementById("OK").addEventListener("click",()=>{
                       
                        resolve(true);
                    });

                    document.getElementById("Cancel").addEventListener("click",()=>{
                       
                        resolve(false);
                    });
                });
            })();

            remove();

            return value
        }

        function create(){
            let button;
            button = document.createElement("button");
            button.innerText = "OK"
            button.id = "OK"
            document.body.appendChild(button);

            button = document.createElement("button");
            button.innerText = "Cancel"
            button.id = "Cancel"
            document.body.appendChild(button);
        }

        function remove(){
            document.body.removeChild(document.getElementById("OK"));
            document.body.removeChild(document.getElementById("Cancel"));            
        }
    </script>
</body>
</html>